{"ast":null,"code":"var _jsxFileName = \"/home/labber/lighthouse/GeTogether/react-front-end/src/hooks/useEventInfo.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { format } from 'date-fns';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function useApplicationData(id) {\n  _s();\n\n  //overall local state object for client side rendering\n  const [bigData, setBigData] = useState({\n    event: [],\n    host: [],\n    goers: [],\n    time: []\n  }); //fetches data from api and sets state\n\n  useEffect(() => {\n    if (id) {\n      Promise.all([axios.get(`/events/${id}`), axios.get(`/events/${id}/host`), axios.get(`/events/${id}/attendees`)]).then(data => {\n        setBigData(prev => {\n          return { ...prev,\n            event: data[0].data[0],\n            host: data[1].data[0],\n            goers: data[2].data.map(element => {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card card-body attendee\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"card-title attendee__name\",\n                    children: element.username\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 30,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: element.photo,\n                    alt: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 31,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 29,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"attendee-title\",\n                  children: \"Attendee\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 33,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 28,\n                columnNumber: 19\n              }, this);\n            }),\n            time: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: format(new Date(`${data[0].data[0].event_time}`), \"MMMM d yyyy - h:mm a\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 22\n            }, this)]\n          };\n        });\n      });\n    }\n  }, []);\n  return {\n    bigData\n  };\n}\n\n_s(useApplicationData, \"IZBdnXg3GcgHSBXCW5582ekMsSc=\");","map":{"version":3,"names":["useEffect","useState","axios","format","useApplicationData","id","bigData","setBigData","event","host","goers","time","Promise","all","get","then","data","prev","map","element","username","photo","Date","event_time"],"sources":["/home/labber/lighthouse/GeTogether/react-front-end/src/hooks/useEventInfo.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport {format} from 'date-fns';\n\nexport default function useApplicationData(id) {\n  //overall local state object for client side rendering\n  const [bigData, setBigData] = useState({\n    event : [],\n    host: [],\n    goers: [],\n    time:[]\n  });\n  //fetches data from api and sets state\n  useEffect(() => {\n    if (id) {\n      Promise.all([\n        axios.get(`/events/${id}`),\n        axios.get(`/events/${id}/host`),\n        axios.get(`/events/${id}/attendees`),\n      ]).then((data) => {\n        setBigData((prev) => {\n          return {\n            ...prev,\n              event: data[0].data[0],\n              host: data[1].data[0],\n              goers: data[2].data.map(element => {\n                return (\n                  <div className=\"card card-body attendee\">\n                    <div>\n                      <h5 className='card-title attendee__name'>{element.username}</h5>\n                      <img src={element.photo} alt=\"\" />\n                    </div>\n                    <p className=\"attendee-title\">\n                      Attendee\n                    </p>\n                  </div>\n                )\n              }),\n              time: [<p>{format(new Date(`${data[0].data[0].event_time}`), \"MMMM d yyyy - h:mm a\")}</p>]\n            };\n          })\n        })\n      }\n    }, [])\n  return { bigData};\n}\n"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,MAAR,QAAqB,UAArB;;AAEA,eAAe,SAASC,kBAAT,CAA4BC,EAA5B,EAAgC;EAAA;;EAC7C;EACA,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBN,QAAQ,CAAC;IACrCO,KAAK,EAAG,EAD6B;IAErCC,IAAI,EAAE,EAF+B;IAGrCC,KAAK,EAAE,EAH8B;IAIrCC,IAAI,EAAC;EAJgC,CAAD,CAAtC,CAF6C,CAQ7C;;EACAX,SAAS,CAAC,MAAM;IACd,IAAIK,EAAJ,EAAQ;MACNO,OAAO,CAACC,GAAR,CAAY,CACVX,KAAK,CAACY,GAAN,CAAW,WAAUT,EAAG,EAAxB,CADU,EAEVH,KAAK,CAACY,GAAN,CAAW,WAAUT,EAAG,OAAxB,CAFU,EAGVH,KAAK,CAACY,GAAN,CAAW,WAAUT,EAAG,YAAxB,CAHU,CAAZ,EAIGU,IAJH,CAISC,IAAD,IAAU;QAChBT,UAAU,CAAEU,IAAD,IAAU;UACnB,OAAO,EACL,GAAGA,IADE;YAEHT,KAAK,EAAEQ,IAAI,CAAC,CAAD,CAAJ,CAAQA,IAAR,CAAa,CAAb,CAFJ;YAGHP,IAAI,EAAEO,IAAI,CAAC,CAAD,CAAJ,CAAQA,IAAR,CAAa,CAAb,CAHH;YAIHN,KAAK,EAAEM,IAAI,CAAC,CAAD,CAAJ,CAAQA,IAAR,CAAaE,GAAb,CAAiBC,OAAO,IAAI;cACjC,oBACE;gBAAK,SAAS,EAAC,yBAAf;gBAAA,wBACE;kBAAA,wBACE;oBAAI,SAAS,EAAC,2BAAd;oBAAA,UAA2CA,OAAO,CAACC;kBAAnD;oBAAA;oBAAA;oBAAA;kBAAA,QADF,eAEE;oBAAK,GAAG,EAAED,OAAO,CAACE,KAAlB;oBAAyB,GAAG,EAAC;kBAA7B;oBAAA;oBAAA;oBAAA;kBAAA,QAFF;gBAAA;kBAAA;kBAAA;kBAAA;gBAAA,QADF,eAKE;kBAAG,SAAS,EAAC,gBAAb;kBAAA;gBAAA;kBAAA;kBAAA;kBAAA;gBAAA,QALF;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QADF;YAWD,CAZM,CAJJ;YAiBHV,IAAI,EAAE,cAAC;cAAA,UAAIR,MAAM,CAAC,IAAImB,IAAJ,CAAU,GAAEN,IAAI,CAAC,CAAD,CAAJ,CAAQA,IAAR,CAAa,CAAb,EAAgBO,UAAW,EAAvC,CAAD,EAA4C,sBAA5C;YAAV;cAAA;cAAA;cAAA;YAAA,QAAD;UAjBH,CAAP;QAmBC,CApBO,CAAV;MAqBC,CA1BH;IA2BC;EACF,CA9BM,EA8BJ,EA9BI,CAAT;EA+BA,OAAO;IAAEjB;EAAF,CAAP;AACD;;GAzCuBF,kB"},"metadata":{},"sourceType":"module"}